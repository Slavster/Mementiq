<!DOCTYPE html>
<html>
<head>
    <title>Test Stripe Redirect</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .test-button { padding: 10px 20px; margin: 10px; cursor: pointer; }
        .log { background: #f0f0f0; padding: 10px; margin: 10px 0; font-family: monospace; }
    </style>
</head>
<body>
    <h1>Test Stripe Redirect Flow</h1>
    
    <button class="test-button" onclick="testDirectRedirect()">
        Test Direct Dashboard Redirect
    </button>
    
    <button class="test-button" onclick="testServerEndpoint()">
        Test Server Endpoint Redirect
    </button>
    
    <div id="log"></div>
    
    <script>
        function log(message) {
            const logDiv = document.getElementById('log');
            const entry = document.createElement('div');
            entry.className = 'log';
            entry.textContent = new Date().toISOString() + ': ' + message;
            logDiv.appendChild(entry);
            console.log(message);
        }
        
        function testDirectRedirect() {
            log('Testing direct redirect to dashboard with parameters...');
            window.location.href = '/dashboard?revision_payment=success&session_id=cs_test_manual&project_id=16';
        }
        
        function testServerEndpoint() {
            log('Testing server endpoint redirect...');
            window.location.href = '/stripe/revision-payment-success?session_id=cs_test_manual&project_id=16';
        }
        
        log('Test page loaded. Use buttons to test redirect flows.');
    </script>
</body>
</html>